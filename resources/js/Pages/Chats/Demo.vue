<script setup>
import { Head, Link } from '@inertiajs/vue3';
import { onMounted, onUnmounted } from 'vue';

const props = defineProps({
    chat: {
        type: Object,
        required: true,
    },
});

onMounted(() => {
    const script = document.createElement('script');
    script.src = '/widget.js';
    script.setAttribute('data-chat-id', props.chat.public_id);
    script.id = 'ai-chat-widget-script';
    document.body.appendChild(script);
});

onUnmounted(() => {
    const script = document.getElementById('ai-chat-widget-script');
    if (script) {
        script.remove();
    }
    const container = document.getElementById('ai-chat-widget-container');
    if (container) {
        container.remove();
    }
});
</script>

<template>

    <Head :title="`–î–µ–º–æ: ${chat.name}`" />

    <div class="demo-page">
        <div class="container">
            <h1>ü§ñ {{ chat.name }}</h1>
            <p class="subtitle"> –≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–∏–¥–∂–µ—Ç–∞ —á–∞—Ç-–±–æ—Ç–∞. –ù–∞–∂–º–∏—Ç–µ –Ω–∞&nbsp;–∫–Ω–æ–ø–∫—É —á–∞—Ç–∞ –≤&nbsp;–ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É! </p>
            <div class="features">
                <div class="feature">
                    <h3>üí¨ –ñ–∏–≤–æ–π —á–∞—Ç</h3>
                    <p>–û–±—â–µ–Ω–∏–µ —Å&nbsp;AI –≤&nbsp;—Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
                </div>
                <div class="feature">
                    <h3>üé® –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω</h3>
                    <p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏&nbsp;–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</p>
                </div>
                <div class="feature">
                    <h3>‚ö° –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</h3>
                    <p>–û–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</p>
                </div>
                <div class="feature">
                    <h3>üîí –ò–∑–æ–ª—è—Ü–∏—è —Å—Ç–∏–ª–µ–π</h3>
                    <p>Shadow DOM –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç&nbsp;–∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤</p>
                </div>
                <div class="feature">
                    <h3>üåê –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å</h3>
                    <p>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤ –æ–±—â–µ–Ω–∏—è</p>
                </div>
                <div class="feature">
                    <h3>üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h3>
                    <p>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏&nbsp;–∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤</p>
                </div>
            </div>
            <div class="info-block"> <strong>‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</strong>
                <p> –≠—Ç–æ—Ç –≤–∏–¥–∂–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞&nbsp;–±–∞–∑–µ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –∏&nbsp;–º–æ–∂–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞&nbsp;–≤–æ–ø—Ä–æ—Å—ã –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ 24/7. </p>
            </div>
        </div>

        <footer>
            <Link :href="route('chats.show', chat.id)" class="back-link">
                ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –±–æ—Ç–∞
            </Link>
        </footer>
    </div>
</template>

<style scoped>
.demo-page {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.container {
    max-width: 800px;
    width: 100%;
    background: white;
    border-radius: 16px;
    padding: 40px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
}

h1 {
    color: #1a1a1a;
    font-size: 2.5rem;
    margin-bottom: 16px;
}

.subtitle {
    color: #666;
    font-size: 1.1rem;
    margin-bottom: 32px;
}

.features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 32px;
}

.feature {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 12px;
}

.feature h3 {
    color: #667eea;
    margin-bottom: 8px;
    font-size: 1.1rem;
}

.feature p {
    color: #666;
    font-size: 0.9rem;
    margin: 0;
}

.info-block {
    background: #e8f4fd;
    color: #1976d2;
    padding: 16px;
    border-radius: 8px;
    font-size: 0.9rem;
}

.info-block strong {
    display: block;
    margin-bottom: 8px;
}

.info-block p {
    margin: 0;
    line-height: 1.5;
}

footer {
    margin-top: 20px;
    text-align: center;
}

.back-link {
    color: rgba(255, 255, 255, 0.9);
    font-size: 0.95rem;
    text-decoration: none;
    transition: color 0.2s;
}

.back-link:hover {
    color: white;
    text-decoration: underline;
}
</style>
